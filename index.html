<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta charset="UTF-8">
		<meta name="description" content="æä¾›1951å¹´1æœˆ8æ—¥åˆ°2051å¹´1æœˆ12æ—¥ä¹‹é—´åˆ°å…¬å†è—å†å¯¹ç…§æŸ¥è¯¢">
		<meta name="keywords" content="åœ¨çº¿,è—å†,ç™¾å¹´,ä¸‡å¹´å†ï¼Œè—å†æœˆå†">
		<meta name="author"  content="Stone Huang">
		<title>ç™¾å¹´è—å† - è—å†åœ¨çº¿æŸ¥è¯¢</title>

		<style>
			:root {
				--primary-color: #8B4513;
				--secondary-color: #CD853F;
				--accent-color: #FF6B35;
				--text-color: #2C1810;
				--bg-color: #FFF8F0;
				--card-bg: #FFFFFF;
				--border-color: #E5D5C8;
				--today-bg: #FFE4B5;
				--today-border: #FF8C00;
				--lunar-eclipse: #E6E6FF;
				--solar-eclipse: #FFE6E6;
				--shadow: 0 2px 10px rgba(139, 69, 19, 0.1);
				--shadow-hover: 0 4px 20px rgba(139, 69, 19, 0.15);
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: 'Segoe UI', 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, var(--bg-color) 0%, #F5E6D3 100%);
				color: var(--text-color);
				line-height: 1.6;
				min-height: 100vh;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
			}

			.header {
				text-align: center;
				margin-bottom: 30px;
				padding: 30px 20px;
				background: var(--card-bg);
				border-radius: 15px;
				box-shadow: var(--shadow);
			}

			.header h1 {
				font-size: 2.5rem;
				color: var(--primary-color);
				margin-bottom: 10px;
				font-weight: 700;
			}

			.header .subtitle {
				font-size: 1.1rem;
				color: var(--secondary-color);
				margin-bottom: 20px;
			}

			.selected-day {
				background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
				color: white;
				padding: 15px 25px;
				border-radius: 25px;
				font-size: 1.2rem;
				font-weight: 600;
				display: inline-block;
				box-shadow: var(--shadow);
				margin-bottom: 20px;
			}

			.controls {
				display: flex;
				justify-content: center;
				align-items: center;
				gap: 15px;
				flex-wrap: wrap;
				margin-bottom: 30px;
			}

			.controls label {
				font-weight: 600;
				color: var(--primary-color);
				font-size: 1.1rem;
			}

			.controls select {
				padding: 12px 20px;
				border: 2px solid var(--border-color);
				border-radius: 8px;
				font-size: 1.1rem;
				background: var(--card-bg);
				color: var(--text-color);
				cursor: pointer;
				transition: all 0.3s ease;
				min-width: 100px;
			}

			.controls select:hover {
				border-color: var(--secondary-color);
				box-shadow: 0 2px 8px rgba(139, 69, 19, 0.1);
			}

			.controls select:focus {
				outline: none;
				border-color: var(--primary-color);
				box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
			}

			.today-btn {
				padding: 12px 20px;
				background: linear-gradient(45deg, var(--accent-color), #FF8C42);
				color: white;
				border: none;
				border-radius: 8px;
				font-size: 1rem;
				font-weight: 600;
				cursor: pointer;
				transition: all 0.3s ease;
				box-shadow: var(--shadow);
			}

			.today-btn:hover {
				transform: translateY(-2px);
				box-shadow: var(--shadow-hover);
			}

			.today-btn:active {
				transform: translateY(0);
			}

			.calendar-container {
				background: var(--card-bg);
				border-radius: 15px;
				box-shadow: var(--shadow);
				overflow: hidden;
				margin-bottom: 30px;
			}

			.calendar-table {
				width: 100%;
				border-collapse: collapse;
			}

			.calendar-table th {
				background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
				color: white;
				padding: 15px 8px;
				font-weight: 600;
				font-size: 1rem;
				text-align: center;
				border: none;
			}

			.calendar-table td {
				border: 1px solid var(--border-color);
				padding: 8px;
				vertical-align: top;
				height: 120px;
				width: 14.28%;
				position: relative;
				cursor: pointer;
				transition: all 0.3s ease;
				background: var(--card-bg);
			}

			.calendar-table td:hover {
				background: #F8F8F8;
				box-shadow: inset 0 0 10px rgba(139, 69, 19, 0.1);
			}

			.calendar-table td.today {
				background: var(--today-bg);
				border: 2px solid var(--today-border);
				box-shadow: 0 0 15px rgba(255, 140, 0, 0.3);
			}

			.calendar-table td.today::before {
				content: "ä»Šå¤©";
				position: absolute;
				top: 2px;
				right: 2px;
				background: var(--accent-color);
				color: white;
				font-size: 0.7rem;
				padding: 2px 6px;
				border-radius: 10px;
				font-weight: 600;
			}

			.day-number {
				font-size: 1.2rem;
				font-weight: 600;
				color: var(--text-color);
				margin-bottom: 4px;
			}

			.lunar-date {
				font-size: 1rem;
				color: var(--primary-color);
				font-weight: 600;
				margin-bottom: 2px;
				text-align: center;
			}

			.lunar-month {
				color: var(--accent-color);
				font-weight: 700;
			}

			.extra-info {
				font-size: 0.8rem;
				color: var(--secondary-color);
				text-align: center;
				line-height: 1.2;
			}

			.eclipse-info {
				font-size: 0.75rem;
				color: #666;
				text-align: center;
				margin-top: 2px;
			}

			.lunareclipse {
				background: var(--lunar-eclipse) !important;
			}

			.solareclipse {
				background: var(--solar-eclipse) !important;
			}

			.info-section {
				background: var(--card-bg);
				border-radius: 15px;
				padding: 25px;
				box-shadow: var(--shadow);
				margin-bottom: 20px;
			}

			.info-section h3 {
				color: var(--primary-color);
				margin-bottom: 15px;
				font-size: 1.3rem;
			}

			.info-section p {
				margin-bottom: 10px;
				color: var(--text-color);
			}

			.mobile-tip {
				background: linear-gradient(45deg, var(--accent-color), #FF8C42);
				color: white;
				padding: 15px;
				border-radius: 10px;
				text-align: center;
				font-weight: 600;
				margin-bottom: 20px;
			}

			.navigation-hint {
				text-align: center;
				color: var(--secondary-color);
				font-size: 0.9rem;
				margin-bottom: 20px;
				padding: 10px;
				background: rgba(139, 69, 19, 0.05);
				border-radius: 8px;
			}

			/* å“åº”å¼è®¾è®¡ */
			@media (max-width: 768px) {
				.container {
					padding: 10px;
				}

				.header h1 {
					font-size: 2rem;
				}

				.calendar-table td {
					height: 100px;
					padding: 4px;
				}

				.day-number {
					font-size: 1rem;
				}

				.lunar-date {
					font-size: 0.9rem;
				}

				.extra-info {
					font-size: 0.7rem;
				}

				.eclipse-info {
					font-size: 0.65rem;
				}

				.controls {
					flex-direction: column;
					gap: 10px;
				}

				.controls select {
					width: 100%;
					max-width: 200px;
				}

				.today-btn {
					width: 100%;
					max-width: 200px;
					margin-top: 10px;
				}
			}

			@media (max-width: 480px) {
				.calendar-table td {
					height: 80px;
					padding: 2px;
				}

				.day-number {
					font-size: 0.9rem;
				}

				.lunar-date {
					font-size: 0.8rem;
				}

				.extra-info {
					display: none;
				}

				.eclipse-info {
					font-size: 0.6rem;
				}
			}

			/* åŠ¨ç”»æ•ˆæœ */
			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(20px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.calendar-container {
				animation: fadeIn 0.6s ease-out;
			}

			/* éšè—/æ˜¾ç¤ºç±» */
			.narrow { display: none; }
			.wide { display: block; }

			@media (max-width: 639px) {
				.narrow { display: block; }
				.wide { display: none; }
			}
		</style>

		<script src="zangli.js" async defer charset="UTF-8"></script>
		<script>
		function $(id){return document.getElementById(id)}
		window.onhashchange=zangli_callback;
		var $m,$y;
		var today = new Date();
		function zangli_callback(){
			var h=location.hash;
			$m=$("month");
			$y=$("year");
			var d=h?new Date(h.substr(1)):new Date();
			if(d<startDate)d=startDate;
			if(d>endDate)d=endDate;
			$("selectedDay").innerHTML="å…¬å†"+d.getFullYear()+"å¹´"+(d.getMonth()+1)+"æœˆ"+d.getDate()+"æ—¥ï¼Œè—å†"+getZangli(d).value;
			$y.options.length=0;
			for(var i=1951;i<2052;i++){
				$y.appendChild(new Option(i));
			}
			$m.options.length=0;
			
			for(var i=1;i<13;i++){
				if(!((d.getFullYear()==2051 && i>2)))
					$m.appendChild(new Option(i));
			}
			$y.value=d.getFullYear();
			$m.value=d.getMonth()+1;

			var tbody=document.getElementsByTagName("tbody")[0];
			while(tbody.rows.length>1){
				tbody.deleteRow(tbody.rows.length-1)
			}
			var tr,td;
			var d0=new Date(d.getFullYear(),d.getMonth(),1);//æœˆåˆ
			var d1=new Date(d.getFullYear(),d.getMonth()+1,0);//æœˆæœ«
			tr=tbody.insertRow();
			for(var i=0;i<d0.getDay();i++){
				td=tr.insertCell();
			}
			for(var i=d0.getDate();i<=d1.getDate();i++){
				var d3=new Date(d.getFullYear(),d.getMonth(),i);
				if(d3.getDay()==0 ){
					tr=tbody.insertRow()
				}
				var z=getZangli(d3);
				var ecl = getEclipse(d3);
				var t=[];
				
				// æ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©
				var isToday = d3.getFullYear() === today.getFullYear() && 
							  d3.getMonth() === today.getMonth() && 
							  d3.getDate() === today.getDate();

				if(i==d0.getDate()){
					t.push("<div class='day-number'><span class='wide'>"+d.getFullYear()+"å¹´"+(d.getMonth()+1)+"æœˆ1æ—¥</span><span class='narrow'>"+i+"</span>");
				}else{
					t.push("<div class='day-number'>"+i)
				}
				t.push("</div><div class='lunar-date'>")
				if(z.day=="åˆä¸€" || (z.day=="åˆäºŒ" && z.dayMiss))
					t.push("<span class='lunar-month'>"+(z.month=='æ­£'&&!z.monthLeap?z.year+"å¹´<br>":"")+z.month+"æœˆ</span><br>"+z.day)
				else
					if(z.value!="error") t.push(z.day);
				t.push("</div><div class='extra-info wide'>");
				t.push(z.extraInfo?z.extraInfo:"&nbsp;")
				t.push("</div><div class='eclipse-info wide'>");
				t.push(ecl.value?(ecl.value+","+ecl.extraInfo.replace(/ï¼Œ/,",<br>")):(z.extraInfo2?z.extraInfo2:"&nbsp;"))
				t.push("</div>");
				td=tr.insertCell()
				td.innerHTML=t.join("");
				
				// æ·»åŠ ä»Šå¤©çš„æ ·å¼
				if (isToday) {
					td.className = "today";
				}
				
				if(z.value!="error")
				td.title="å…¬å†"+d3.getFullYear()+"å¹´"+(d3.getMonth()+1)+"æœˆ"+d3.getDate()+"æ—¥ï¼Œè—å†"+z.value;
				if(ecl.value!=""){
					td.title=td.title+","+ecl.value;
					if(/æ—¥/.test(ecl.value))
					td.className = (td.className || "") + " solareclipse"
					else
					td.className = (td.className || "") + " lunareclipse"
				}
				if(ecl.extraInfo!=""){
					td.title=td.title+","+ecl.extraInfo;
				}
			}
			for(var i=d3.getDay();i<6;i++){
				tr.insertCell();
			}
		}
		function showDay(e){
			while(e.tagName!="TD" && e.tagName!="TABLE"){
				e=e.parentNode;
			}
			if(e.title){
				$("selectedDay").innerHTML=e.title;
			}
		}
		function changeDate(code){
			var m=$m.value;
			var y=$y.value;
			if(code==37){
				m--;
			}else if(code==38){
				y--;
			}else if(code==39){
				m++;
			}else if(code==40){
				y++;
			}else if(code!="year" && code!="month"){
				return;
			}
			if(m==0){y--;m=12}
			if(m==13){y++;m=1}
			location.replace(location.pathname+"#"+y+"/"+m+"/1");
			window.scrollTo(0,0);
		}

		// è·³è½¬åˆ°ä»Šå¤©
		function goToToday() {
			var today = new Date();
			location.replace(location.pathname + "#" + today.getFullYear() + "/" + (today.getMonth() + 1) + "/" + today.getDate());
			window.scrollTo(0, 0);
		}

		// æ”¹å–„ç§»åŠ¨ç«¯ä½“éªŒ
		function handleTouchStart(e) {
			this.startX = e.touches[0].clientX;
			this.startY = e.touches[0].clientY;
		}

		function handleTouchEnd(e) {
			if (!this.startX || !this.startY) return;
			
			var endX = e.changedTouches[0].clientX;
			var endY = e.changedTouches[0].clientY;
			var diffX = this.startX - endX;
			var diffY = this.startY - endY;
			
			// åªæœ‰åœ¨æ°´å¹³æ»‘åŠ¨è·ç¦»å¤§äºå‚ç›´æ»‘åŠ¨è·ç¦»æ—¶æ‰å¤„ç†
			if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
				if (diffX > 0) {
					// å‘å·¦æ»‘åŠ¨ï¼Œä¸‹ä¸ªæœˆ
					changeDate(39);
				} else {
					// å‘å³æ»‘åŠ¨ï¼Œä¸Šä¸ªæœˆ
					changeDate(37);
				}
			}
			
			this.startX = null;
			this.startY = null;
		}

		// é¡µé¢åŠ è½½å®Œæˆåæ·»åŠ äº‹ä»¶ç›‘å¬å™¨
		window.addEventListener('load', function() {
			// æ·»åŠ è§¦æ‘¸äº‹ä»¶ç›‘å¬å™¨
			var calendarTable = document.querySelector('.calendar-table');
			if (calendarTable) {
				calendarTable.addEventListener('touchstart', handleTouchStart, false);
				calendarTable.addEventListener('touchend', handleTouchEnd, false);
			}
		});
		</script>
	</head>
	<body onkeyup="changeDate(event.keyCode)">
		<div class="container">
			<div class="header">
				<h1>ç™¾å¹´è—å†</h1>
				<div class="subtitle">è—å†å…¬å†å¯¹ç…§æŸ¥è¯¢ (1951-2051)</div>
				<div class="selected-day" id="selectedDay"></div>
			</div>

			<div class="navigation-hint">
				ğŸ’¡ æç¤ºï¼šå¯ä½¿ç”¨é”®ç›˜æ–¹å‘é”®å¿«é€Ÿåˆ‡æ¢æœˆä»½å’Œå¹´ä»½
			</div>

			<div class="controls">
				<label for="year">é€‰æ‹©å¹´ä»½ï¼š</label>
				<select id="year" onchange="changeDate('year')"></select>
				<label for="month">é€‰æ‹©æœˆä»½ï¼š</label>
				<select id="month" onchange="changeDate('month')"></select>
				<button onclick="goToToday()" class="today-btn">ğŸ“… å›åˆ°ä»Šå¤©</button>
			</div>

			<div class="mobile-tip narrow">
				ğŸ“± å»ºè®®æ¨ªå±æŸ¥çœ‹ | ğŸ‘† å·¦å³æ»‘åŠ¨åˆ‡æ¢æœˆä»½
			</div>

			<div class="calendar-container">
				<table class="calendar-table">
					<tbody onclick="showDay(event.srcElement || event.target)">
						<tr>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>æ—¥</th>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>ä¸€</th>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>äºŒ</th>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>ä¸‰</th>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>å››</th>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>äº”</th>
							<th><span class="narrow">å‘¨</span><span class="wide">æ˜ŸæœŸ</span>å…­</th>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="info-section">
				<h3>ğŸ“– ä½¿ç”¨è¯´æ˜</h3>
				<p>â€¢ æœ¬é¡µé¢æä¾›1951å¹´1æœˆ8æ—¥åˆ°2051å¹´1æœˆ12æ—¥ä¹‹é—´çš„å…¬å†è—å†å¯¹ç…§æŸ¥è¯¢</p>
				<p>â€¢ ä»Šå¤©çš„æ—¥æœŸä¼šç‰¹åˆ«æ ‡æ³¨å¹¶é«˜äº®æ˜¾ç¤º</p>
				<p>â€¢ ç‚¹å‡»ä»»æ„æ—¥æœŸå¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
				<p>â€¢ ä½¿ç”¨é”®ç›˜æ–¹å‘é”®å¯å¿«é€Ÿåˆ‡æ¢æœˆä»½å’Œå¹´ä»½</p>
			</div>

			<div class="info-section">
				<h3>ğŸ“š æ•°æ®æ¥æº</h3>
				<p>â€¢ è—å†æ•°æ®æ¥æºäºã€Šè—å†ã€å…¬å†ã€å†œå†å¯¹ç…§ç™¾å¹´å†ä¹¦ï¼ˆ1951-2050ï¼‰ã€‹</p>
				<p>â€¢ æ—¥æœˆé£Ÿæ•°æ®æ¥è‡ªNASAï¼Œå¹¶ä»UTCæ—¶é—´è½¬æ¢åˆ°åŒ—äº¬æ—¶é—´è®¡ç®—æ—¥æœŸ</p>
				<p>â€¢ ç”±äºåœ°çƒä¸Šä¸åŒä½ç½®çœ‹åˆ°çš„åˆäºå¤åœ†æ—¶é—´ä¼šä¸åŒï¼Œæ—¶é—´å¯èƒ½å­˜åœ¨è¯¯å·®</p>
			</div>

			<div class="info-section">
				<h3>ğŸ”— å¼€æºä¿¡æ¯</h3>
				<p>æœ¬é¡µé¢å’Œæ•°æ®å¼€æºäº <a href="https://github.com/stonelf/zangli" target="_blank" style="color: var(--primary-color); text-decoration: none;">GitHub</a>ï¼Œæ¬¢è¿ä¸‹è½½ä½¿ç”¨ã€‚</p>
			</div>

			<noscript>
				<div class="info-section">
					<h3>é™æ€ç‰ˆæœ¬</h3>
					<p>ä¸æ”¯æŒJavaScriptçš„æµè§ˆå™¨å¯ä»¥ç›´æ¥è®¿é—®æœ¬æœˆå†çš„HTMLç‰ˆæœ¬ï¼š
						<a href="calendar/1952.html">1952å¹´è—å†æœˆå†</a> 
						<a href="calendar/1953.html">1953å¹´è—å†æœˆå†</a> 
						<!-- å…¶ä»–å¹´ä»½é“¾æ¥çœç•¥ä»¥ä¿æŒç®€æ´ -->
					</p>
				</div>
			</noscript>
		</div>
	</body>
</html>
